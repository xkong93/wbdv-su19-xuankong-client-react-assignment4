{"ast":null,"code":"import widgets from '../data/widgets.json';\nexport default class WidgetService {\n  constructor() {\n    this.url = 'http://localhost:8080/api/widgets';\n\n    this.createWidget = widget => {\n      // widgets.push(widget)\n      return fetch(this.url, {\n        method: \"POST\",\n        body: JSON.stringify(widget),\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(response => response.json());\n    };\n\n    this.findAllWidgets = () => {\n      return fetch(this.url).then(response => response.json()); // return widgets\n    };\n\n    this.findWidgetById = widgetId => {\n      return widgets.find(widget => widget.id == widgetId);\n    };\n\n    this.updateWidget = (widgetId, newWidget) => {\n      widgets = widgets.map(widget => widget.id == widgetId ? newWidget : widget);\n    };\n\n    this.deleteWidget = widgetId => {\n      widgets = widgets.filter(widget => widget.id != widgetId);\n    };\n  }\n\n  static getInstance() {\n    if (WidgetService.myInstance == null) {\n      WidgetService.myInstance = new WidgetService();\n    }\n\n    return this.myInstance;\n  }\n\n}\nWidgetService.myInstance = null;","map":{"version":3,"sources":["/Users/xuankong/Documents/Onedrive/NEU/CS5610/wbdv-su19-xuankong-client-react-assignment4/src/services/WidgetService.js"],"names":["widgets","WidgetService","url","createWidget","widget","fetch","method","body","JSON","stringify","headers","then","response","json","findAllWidgets","findWidgetById","widgetId","find","id","updateWidget","newWidget","map","deleteWidget","filter","getInstance","myInstance"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,sBAApB;AAEA,eAAe,MAAMC,aAAN,CAAoB;AAAA;AAAA,SAG/BC,GAH+B,GAGzB,mCAHyB;;AAAA,SAY/BC,YAZ+B,GAYhBC,MAAM,IAAI;AACrB;AACA,aAAOC,KAAK,CAAC,KAAKH,GAAN,EAAW;AACnBI,QAAAA,MAAM,EAAE,MADW;AAEnBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAFa;AAGnBM,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAHU,OAAX,CAAL,CAMJC,IANI,CAMEC,QAAD,IAAaA,QAAQ,CAACC,IAAT,EANd,CAAP;AAOH,KArB8B;;AAAA,SAuB/BC,cAvB+B,GAuBd,MAAM;AACnB,aAAOT,KAAK,CAAC,KAAKH,GAAN,CAAL,CAAgBS,IAAhB,CAAsBC,QAAD,IAAaA,QAAQ,CAACC,IAAT,EAAlC,CAAP,CADmB,CAEnB;AACH,KA1B8B;;AAAA,SA6B/BE,cA7B+B,GA6BbC,QAAD,IAAc;AAC3B,aAAOhB,OAAO,CAACiB,IAAR,CAAab,MAAM,IAAIA,MAAM,CAACc,EAAP,IAAaF,QAApC,CAAP;AACH,KA/B8B;;AAAA,SAiC/BG,YAjC+B,GAiChB,CAACH,QAAD,EAAWI,SAAX,KAAyB;AACpCpB,MAAAA,OAAO,GAAGA,OAAO,CAACqB,GAAR,CAAYjB,MAAM,IAAIA,MAAM,CAACc,EAAP,IAAaF,QAAb,GAAwBI,SAAxB,GAAoChB,MAA1D,CAAV;AACH,KAnC8B;;AAAA,SAqC/BkB,YArC+B,GAqCfN,QAAD,IAAc;AACzBhB,MAAAA,OAAO,GAAGA,OAAO,CAACuB,MAAR,CAAenB,MAAM,IAAIA,MAAM,CAACc,EAAP,IAAaF,QAAtC,CAAV;AACH,KAvC8B;AAAA;;AAK/B,SAAOQ,WAAP,GAAqB;AACjB,QAAIvB,aAAa,CAACwB,UAAd,IAA4B,IAAhC,EAAsC;AAClCxB,MAAAA,aAAa,CAACwB,UAAd,GAA2B,IAAIxB,aAAJ,EAA3B;AACH;;AACD,WAAO,KAAKwB,UAAZ;AACH;;AAV8B;AAAdxB,a,CACVwB,U,GAAa,I","sourcesContent":["import widgets from '../data/widgets.json'\n\nexport default class WidgetService {\n    static myInstance = null;\n\n    url = 'http://localhost:8080/api/widgets';\n\n    static getInstance() {\n        if (WidgetService.myInstance == null) {\n            WidgetService.myInstance = new WidgetService()\n        }\n        return this.myInstance\n    }\n\n    createWidget = widget => {\n        // widgets.push(widget)\n        return fetch(this.url, {\n            method: \"POST\",\n            body: JSON.stringify(widget),\n            headers: {\n                'content-type': 'application/json'\n            }\n        }).then((response)=> response.json())\n    }\n\n    findAllWidgets = () => {\n        return fetch(this.url).then((response)=> response.json());\n        // return widgets\n    }\n\n\n    findWidgetById = (widgetId) => {\n        return widgets.find(widget => widget.id == widgetId)\n    }\n\n    updateWidget = (widgetId, newWidget) => {\n        widgets = widgets.map(widget => widget.id == widgetId ? newWidget : widget)\n    }\n\n    deleteWidget = (widgetId) => {\n        widgets = widgets.filter(widget => widget.id != widgetId);\n    }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}