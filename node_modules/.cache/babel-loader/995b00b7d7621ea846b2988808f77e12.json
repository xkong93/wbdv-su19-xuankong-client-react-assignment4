{"ast":null,"code":"import widgets from '../data/widgets.json';\nexport default class WidgetService {\n  constructor() {\n    this.url = 'http://localhost:8080/api/widgets';\n\n    this.createWidget = widget => {\n      // widgets.push(widget)\n      return fetch(this.url, {\n        method: \"POST\",\n        body: JSON.stringify(widget),\n        headers: {\n          'content-type': 'application/json'\n        }\n      }).then(response => response.json());\n    };\n\n    this.findAllWidgets = () => {\n      return fetch(this.url).then(response => response.json()); // return widgets\n    };\n\n    this.findWidgetById = widgetId => {\n      return fetch(this.url + '/' + widgetId).then(); // return widgets.find(widget => widget.id == widgetId)\n    };\n\n    this.updateWidget = (widgetId, newWidget) => {\n      widgets = widgets.map(widget => widget.id == widgetId ? newWidget : widget);\n    };\n\n    this.deleteWidget = widgetId => {\n      widgets = widgets.filter(widget => widget.id != widgetId);\n    };\n  }\n\n  static getInstance() {\n    if (WidgetService.myInstance == null) {\n      WidgetService.myInstance = new WidgetService();\n    }\n\n    return this.myInstance;\n  }\n\n}\nWidgetService.myInstance = null;","map":{"version":3,"sources":["/Users/xuankong/Documents/Onedrive/NEU/CS5610/wbdv-su19-xuankong-client-react-assignment4/src/services/WidgetService.js"],"names":["widgets","WidgetService","url","createWidget","widget","fetch","method","body","JSON","stringify","headers","then","response","json","findAllWidgets","findWidgetById","widgetId","updateWidget","newWidget","map","id","deleteWidget","filter","getInstance","myInstance"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,sBAApB;AAEA,eAAe,MAAMC,aAAN,CAAoB;AAAA;AAAA,SAG/BC,GAH+B,GAGzB,mCAHyB;;AAAA,SAY/BC,YAZ+B,GAYhBC,MAAM,IAAI;AACrB;AACA,aAAOC,KAAK,CAAC,KAAKH,GAAN,EAAW;AACnBI,QAAAA,MAAM,EAAE,MADW;AAEnBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAFa;AAGnBM,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX;AAHU,OAAX,CAAL,CAMJC,IANI,CAMEC,QAAD,IAAaA,QAAQ,CAACC,IAAT,EANd,CAAP;AAOH,KArB8B;;AAAA,SAuB/BC,cAvB+B,GAuBd,MAAM;AACnB,aAAOT,KAAK,CAAC,KAAKH,GAAN,CAAL,CAAgBS,IAAhB,CAAsBC,QAAD,IAAaA,QAAQ,CAACC,IAAT,EAAlC,CAAP,CADmB,CAEnB;AACH,KA1B8B;;AAAA,SA6B/BE,cA7B+B,GA6BbC,QAAD,IAAc;AAE3B,aAAOX,KAAK,CAAC,KAAKH,GAAL,GAAW,GAAX,GAAiBc,QAAlB,CAAL,CAAiCL,IAAjC,EAAP,CAF2B,CAG3B;AACH,KAjC8B;;AAAA,SAmC/BM,YAnC+B,GAmChB,CAACD,QAAD,EAAWE,SAAX,KAAyB;AACpClB,MAAAA,OAAO,GAAGA,OAAO,CAACmB,GAAR,CAAYf,MAAM,IAAIA,MAAM,CAACgB,EAAP,IAAaJ,QAAb,GAAwBE,SAAxB,GAAoCd,MAA1D,CAAV;AACH,KArC8B;;AAAA,SAuC/BiB,YAvC+B,GAuCfL,QAAD,IAAc;AACzBhB,MAAAA,OAAO,GAAGA,OAAO,CAACsB,MAAR,CAAelB,MAAM,IAAIA,MAAM,CAACgB,EAAP,IAAaJ,QAAtC,CAAV;AACH,KAzC8B;AAAA;;AAK/B,SAAOO,WAAP,GAAqB;AACjB,QAAItB,aAAa,CAACuB,UAAd,IAA4B,IAAhC,EAAsC;AAClCvB,MAAAA,aAAa,CAACuB,UAAd,GAA2B,IAAIvB,aAAJ,EAA3B;AACH;;AACD,WAAO,KAAKuB,UAAZ;AACH;;AAV8B;AAAdvB,a,CACVuB,U,GAAa,I","sourcesContent":["import widgets from '../data/widgets.json'\n\nexport default class WidgetService {\n    static myInstance = null;\n\n    url = 'http://localhost:8080/api/widgets';\n\n    static getInstance() {\n        if (WidgetService.myInstance == null) {\n            WidgetService.myInstance = new WidgetService()\n        }\n        return this.myInstance\n    }\n\n    createWidget = widget => {\n        // widgets.push(widget)\n        return fetch(this.url, {\n            method: \"POST\",\n            body: JSON.stringify(widget),\n            headers: {\n                'content-type': 'application/json'\n            }\n        }).then((response)=> response.json())\n    }\n\n    findAllWidgets = () => {\n        return fetch(this.url).then((response)=> response.json());\n        // return widgets\n    }\n\n\n    findWidgetById = (widgetId) => {\n\n        return fetch(this.url + '/' + widgetId).then()\n        // return widgets.find(widget => widget.id == widgetId)\n    }\n\n    updateWidget = (widgetId, newWidget) => {\n        widgets = widgets.map(widget => widget.id == widgetId ? newWidget : widget)\n    }\n\n    deleteWidget = (widgetId) => {\n        widgets = widgets.filter(widget => widget.id != widgetId);\n    }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}